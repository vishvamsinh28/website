coverage:
  status:
    project:
      default:
        target: 80%    # Set the overall minimum coverage threshold to 80%
        threshold: 1%  # Allow a drop in coverage of 1% before failing
    patch:
      default:
        target: 80%    # Minimum required coverage for new changes
        threshold: 0%  # No drop allowed for patches

comment:
  layout: "reach, diff, files"    # Show overall reach, diff coverage, and per-file coverage
  behavior: default               # Update the existing comment instead of posting a new one
  require_changes: yes            # Only comment if coverage changes
  after_n_builds: 1               # Post comment after at least one build finishes
  branches:
    only:
      - main                      # Only comment on PRs to the 'main' branch
